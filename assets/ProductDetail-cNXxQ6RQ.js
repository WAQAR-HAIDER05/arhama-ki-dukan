import{d as x,u as S,k as A,r as t,h as R,j as e,N as I,i as o,T,S as $}from"./index-CBmW86xF.js";import{g as z}from"./productService-BlOT3nD4.js";import{W as L,H as M,P as D}from"./ProductCard-Gfho8Bb4.js";import{S as E}from"./star-Di-s-6Vk.js";import"./eye-Dk14oU6n.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=x("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=x("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=x("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=x("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),B=()=>{const{id:h}=S(),{addToCart:b}=A(),[m,l]=t.useState(0),[i,g]=t.useState(1),[c,f]=t.useState(!1),[n,N]=t.useState("description"),[v,p]=t.useState([]),[w,k]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const r=await z();p(r)}catch(r){console.error("Failed to load user products:",r),p([])}finally{k(!1)}})()},[]);const u=[...R,...v],s=u.find(a=>a.id===h);if(t.useEffect(()=>{window.scrollTo(0,0)},[h]),w)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"})});if(!s)return e.jsx(I,{to:"/products",replace:!0});const j=u.filter(a=>a.id!==s.id&&(a.category===s.category||a.subcategory===s.subcategory)).slice(0,4),d=s.originalPrice?Math.round((s.originalPrice-s.price)/s.originalPrice*100):0,C=()=>{b(s,i)},y=a=>{l(a==="prev"?r=>r===0?s.images.length-1:r-1:r=>r===s.images.length-1?0:r+1)},P=async()=>{const a={title:s.name,text:`Check out this ${s.name} from ARHAMA KI DUKAN - ${o(s.price)}`,url:window.location.href};if(navigator.share)try{await navigator.share(a)}catch(r){console.log("Error sharing:",r)}else navigator.clipboard.writeText(window.location.href),alert("Product link copied to clipboard!")};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx("nav",{className:"text-sm mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx("a",{href:"/",className:"hover:text-black",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx("a",{href:`/products/${s.category}`,className:"hover:text-black",children:s.category==="watches"?"Watches":"Jewelry"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-black",children:s.name})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[e.jsx("img",{src:s.images[m],alt:s.name,className:"w-full h-full object-cover"}),s.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>y("prev"),className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-lg transition-colors",children:e.jsx(F,{size:20})}),e.jsx("button",{onClick:()=>y("next"),className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-lg transition-colors",children:e.jsx(q,{size:20})})]}),s.images.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:s.images.map((a,r)=>e.jsx("button",{onClick:()=>l(r),className:`w-3 h-3 rounded-full transition-colors ${r===m?"bg-white":"bg-white/50"}`},r))}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[s.isNew&&e.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded text-sm font-medium",children:"New Arrival"}),s.isOnSale&&d>0&&e.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded text-sm font-medium",children:["Save ",d,"%"]}),s.featured&&e.jsx("span",{className:"bg-mustard text-white px-3 py-1 rounded text-sm font-medium",children:"Featured"})]})]}),s.images.length>1&&e.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:s.images.map((a,r)=>e.jsx("button",{onClick:()=>l(r),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ${r===m?"border-black":"border-gray-200"}`,children:e.jsx("img",{src:a,alt:`${s.name} view ${r+1}`,className:"w-full h-full object-cover"})},r))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[s.brand&&e.jsx("p",{className:"text-gray-600 mb-2",children:s.brand}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:s.name}),s.rating&&e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((a,r)=>e.jsx(E,{size:20,className:`${r<Math.floor(s.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},r))}),e.jsxs("span",{className:"text-gray-600",children:["(",s.reviewCount," reviews)"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-3xl font-bold text-black",children:o(s.price)}),s.originalPrice&&e.jsx("span",{className:"text-xl text-gray-500 line-through",children:o(s.originalPrice)}),d>0&&e.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-sm font-medium",children:["-",d,"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Price includes all taxes â€¢ Prices in Pakistani Rupees"})]})]}),e.jsxs("div",{className:"border-l-4 border-green-500 bg-green-50 p-4 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium text-green-800",children:s.inStock?"In Stock":"Out of Stock"})]}),s.inStock&&e.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Ready for immediate delivery across Pakistan"})]}),(s.material||s.warranty)&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[s.material&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Material:"}),e.jsx("span",{className:"font-medium",children:s.material})]}),s.warranty&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Warranty:"}),e.jsx("span",{className:"font-medium",children:s.warranty})]})]}),s.inStock&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"font-medium",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>g(Math.max(1,i-1)),className:"px-3 py-2 hover:bg-gray-100 transition-colors",children:"-"}),e.jsx("span",{className:"px-4 py-2 border-x border-gray-300",children:i}),e.jsx("button",{onClick:()=>g(i+1),className:"px-3 py-2 hover:bg-gray-100 transition-colors",children:"+"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:C,className:"w-full bg-mustard text-black py-4 px-6 rounded-lg hover:bg-yellow-400 transition-colors font-semibold text-lg",children:["Add to Cart - ",o(s.price*i)]}),e.jsx(L,{product:s,quantity:i,variant:"secondary",size:"lg",className:"w-full"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 pt-4 border-t",children:[e.jsxs("button",{onClick:()=>f(!c),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${c?"bg-red-50 border-red-200 text-red-600":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(M,{size:18,className:c?"fill-current":""}),e.jsx("span",{children:c?"Saved":"Save"})]}),e.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 rounded-lg border bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100 transition-colors",children:[e.jsx(U,{size:18}),e.jsx("span",{children:"Share"})]})]})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"description",label:"Description"},{id:"specifications",label:"Specifications"},{id:"delivery",label:"Delivery & Returns"}].map(a=>e.jsx("button",{onClick:()=>N(a.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n===a.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:a.label},a.id))})}),e.jsxs("div",{className:"py-8",children:[n==="description"&&e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description}),s.tags&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Tags:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(a=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:a},a))})]})]}),n==="specifications"&&e.jsx("div",{className:"space-y-4",children:s.specifications?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(s.specifications).map(([a,r])=>e.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-100",children:[e.jsxs("span",{className:"font-medium text-gray-700",children:[a,":"]}),e.jsx("span",{className:"text-gray-900",children:r})]},a))}):e.jsx("p",{className:"text-gray-600",children:"Contact us via WhatsApp for detailed specifications."})}),n==="delivery"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(T,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Free Delivery"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Free secure delivery across Pakistan on orders above PKR 50,000"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx($,{className:"text-green-600",size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Authenticity Guarantee"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"100% authentic products with certificates and warranties"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(O,{className:"text-purple-600",size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Easy Returns"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"7-day return policy for unopened items in original condition"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Delivery Information"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsx("p",{children:"â€¢ Karachi: 1-2 business days"}),e.jsx("p",{children:"â€¢ Lahore, Islamabad: 2-3 business days"}),e.jsx("p",{children:"â€¢ Other major cities: 3-5 business days"}),e.jsx("p",{children:"â€¢ Remote areas: 5-7 business days"})]})]})]})]})]}),j.length>0&&e.jsxs("div",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8",children:"You Might Also Like"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:j.map(a=>e.jsx(D,{product:a},a.id))})]})]})})};export{B as default};
